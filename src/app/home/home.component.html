<mat-sidenav-container class="app-content-container">
  <mat-sidenav class="app-side-nav" mode="side">
    <h2 class="nav-home-name" mat-list-item>Climsoft</h2>
    <mat-divider></mat-divider>
    <mat-nav-list>
      <div mat-list-item *ngFor="let nav of featuresNavItems">
        <!-- for menus that have sub menus -->
        <div *ngIf="nav.children.length > 0">
          <a class="nav-link" [matMenuTriggerFor]="navSubMenu">
            <mat-icon>{{ nav.icon }}</mat-icon>
            <span class="nav-name">{{ nav.name }}</span>
            <span class="nav-spacer"></span>
            <mat-icon>chevron_right</mat-icon>

            <mat-menu
              #navSubMenu="matMenu"
              xPosition="before"
              yPosition="above"
            >
              <a
                mat-menu-item
                *ngFor="let subNav of nav.children"
                (click)="onFeatureClick(subNav.featureTitle, subNav.url)"
                >{{ subNav.name }}</a
              >
            </mat-menu>
          </a>
        </div>

        <!-- for menus that don't have sub menus -->
        <div *ngIf="nav.children.length === 0">
          <a
            class="nav-link"
            (click)="onFeatureClick(nav.featureTitle, nav.url)"
          >
            <mat-icon>{{ nav.icon }}</mat-icon>
            <span class="nav-name">{{ nav.name }}</span>
            <span class="nav-spacer"></span>
          </a>
        </div>
      </div>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="app-toolbar">
      <button mat-icon-button (click)="toggleFeaturesNav()">
        <mat-icon>menu</mat-icon>
      </button>
      <button
        mat-icon-button
        *ngIf="launchedAsSubComponent"
        mat-icon-button
        (click)="onBackClick()"
      >
        <mat-icon>arrow_back</mat-icon>
      </button>
      <span>{{ componentTitle }}</span>
      <span class="toolbar-spacer"></span>
      <button mat-icon-button class="toolbar-icon">
        <mat-icon>settings</mat-icon>
      </button>
      <button mat-icon-button class="toolbar-icon">
        <mat-icon>person</mat-icon>
      </button>
    </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
